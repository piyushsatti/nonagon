{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "common.schema.json",
  "title": "Common Definitions",
  "description": "Shared definitions for entity IDs and common types",
  "definitions": {
    "UserID": {
      "type": "string",
      "pattern": "^USER([A-Z][0-9]){3}$|^USER[0-9]+$",
      "description": "User identifier (postal format USERH3X1T7 or legacy USER123)"
    },
    "QuestID": {
      "type": "string",
      "pattern": "^QUES([A-Z][0-9]){3}$|^QUES[0-9]+$",
      "description": "Quest identifier (postal format QUESH3X1T7 or legacy QUES123)"
    },
    "CharacterID": {
      "type": "string",
      "pattern": "^CHAR([A-Z][0-9]){3}$|^CHAR[0-9]+$",
      "description": "Character identifier (postal format CHARH3X1T7 or legacy CHAR123)"
    },
    "SummaryID": {
      "type": "string",
      "pattern": "^SUMM([A-Z][0-9]){3}$|^SUMM[0-9]+$",
      "description": "Summary identifier (postal format SUMMH3X1T7 or legacy SUMM123)"
    },
    "DiscordSnowflake": {
      "type": "integer",
      "minimum": 0,
      "description": "Discord snowflake ID (64-bit integer)"
    },
    "ISODateTime": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 datetime string"
    },
    "NullableDateTime": {
      "oneOf": [
        { "type": "string", "format": "date-time" },
        { "type": "null" }
      ],
      "description": "ISO 8601 datetime string or null"
    },
    "URL": {
      "type": "string",
      "format": "uri",
      "description": "Valid URL string"
    },
    "NullableURL": {
      "oneOf": [
        { "type": "string", "format": "uri" },
        { "type": "null" }
      ],
      "description": "Valid URL string or null"
    },
    "NullableString": {
      "oneOf": [
        { "type": "string" },
        { "type": "null" }
      ]
    },
    "NullableInteger": {
      "oneOf": [
        { "type": "integer" },
        { "type": "null" }
      ]
    }
  }
}
